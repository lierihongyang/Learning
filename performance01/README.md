## 性能测试第一天

**静态请求：** 访问CSS、图片、JS等静态文件的请求叫做静态请求  
**静态服务器：** 用来处理和解析静态请求的服务器  
常见的服务器：nginx、apache  
**动态请求：** 需要后台做业务逻辑处理或由于提交不同的参数得到不同的请求结果的请求  
**应用服务器：** 用来做业务逻辑处理的服务器，或用来解析动态请求的服务器  
常见的服务器：tomcat、weblogic  
**CDN服务器：** 本质上是一个缓存服务器，保存的是静态文件  
**正向代理：** 可见的、位于服务端和客户端之间、进行请求和响应的转发。服务器不知道用户在哪儿  
**反向代理：** 不可见、位于服务端、进行请求和响应的转发，提高服务器安全性（也可以做缓存）。用户不知道服务器在哪儿  
**负载均衡：** 按照用户的配置将请求合理的分发给目标机器，达到硬件资源的有效利用

- 负载均衡调度策略：
    - 轮询：适用于机器配置相同或相近的场景
    - 权重：适用于机器配置不同的场景（好的机器权重高，差的机器权重低）
    - 轮询+权重：
        - nginx：反向代理 静态服务器 负载均衡

## 消息队列

MessageQueue：简称MQ

- 生产者：生产消息
- 消费者：消费消息
- 消息队列：存储消息
- 是一套部署的服务
- 消费体：消息内容，一般是开发约好的（生产者的开发、消费者的开发）
- 消息体中的字段`"topic": "xx"` 决定谁来消费消息
- 消费时间由开发决定
- 生产者也可能是消费者
- 消息的状态：已生产==已消费==已过期

## 登录的验证逻辑

1. 校验输入是否合理，校验组成规格
2. 判断用户是否存在
3. 判读密码是否正确

## jmeter报错排查

1. 打开查看结果树，找到报错请求的响应数据
2. 根据响应数据的报错的第一行，猜测和分析问题的原因
3. 先查看查看结果树中的请求  
   3.1 请求方法  
   3.2 请求路径  
   3.3 请求地址  
   3.4 请求头  
   3.5 请求参数是否有错

## 编写正则的步骤

1. 选中要提取目标字符串的左边界-有边界，进行复制
2. 找到目标字符串位置，用`(.*?)`代替
3. 开始测试该正则是否能提取到目标结果
4. 如果上述操作不能提取，则分析字符串中是否有转义、空白符等

## 事务

事务意味着完整性，可能分很多步，只有每一步都成功才能算完成

10分钟增加100个线程，压测30分钟；再用10分钟增加100个线程，再压测60分钟；最后5分钟内结束